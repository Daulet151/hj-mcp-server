id: q2sql_001
question_ru: "Покажи всех пользователей, у которых заканчивается абонемент в ближайшие 7 дней"
intents: ["expiring_subscriptions", "user_list"]

sql:
  dialect: postgres
  statement: |
    SELECT 
        "user",
        firstname,
        lastname,
        email,
        hp_name,
        hp_endtime
    FROM olap_schema.userheropass
    WHERE hp_endtime BETWEEN NOW() AND NOW() + INTERVAL '7 days'
    AND status = 'active'
    ORDER BY hp_endtime;

expected_schema:
  - name: user
    type: varchar(24)
  - name: firstname
    type: text
  - name: lastname
    type: text
  - name: email
    type: text
  - name: hp_name
    type: text
  - name: hp_endtime
    type: timestamp

sample_rows:
  - ["507f1f77bcf86cd799439011", "Иван", "Петров", "ivan@example.com", "Годовой Hero's Pass", "2025-10-25 10:00:00"]
  - ["507f1f77bcf86cd799439012", "Мария", "Сидорова", "maria@example.com", "Полугодовой Hero's Pass", "2025-10-27 15:30:00"]